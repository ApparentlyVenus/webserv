<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CGI Demonstration - Webserv</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">Webserv</div>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/login.html">Login</a></li>
                <li><a href="/upload.html">Upload</a></li>
                <li><a href="/cgi.html" class="active">CGI Demo</a></li>
                <li><a href="/about.html">About</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="form-container">
            <h1>CGI Demonstration</h1>
            <p>Common Gateway Interface (CGI) allows the server to execute external programs and return dynamic content.</p>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>Python CGI</h3>
                    <p>Display current date/time and environment variables using Python.</p>
                    <a href="/cgi-bin/datetime.py" class="btn btn-primary">Run Python Script</a>
                </div>

                <div class="feature-card">
                    <h3>PHP CGI</h3>
                    <p>Process form data and demonstrate POST method handling with PHP.</p>
                    <a href="/cgi-bin/form.php" class="btn btn-primary">Run PHP Script</a>
                </div>

                <div class="feature-card">
                    <h3>Perl CGI</h3>
                    <p>Display all CGI environment variables using Perl.</p>
                    <a href="/cgi-bin/env.pl" class="btn btn-primary">Run Perl Script</a>
                </div>
            </div>

            <div class="info-box">
                <h3>How CGI Works:</h3>
                <ul>
                    <li>Client sends HTTP request to server</li>
                    <li>Server detects CGI script based on file extension</li>
                    <li>Server forks a child process and executes the script</li>
                    <li>Script receives request data via environment variables and STDIN</li>
                    <li>Script generates HTTP headers and HTML output</li>
                    <li>Server sends script output back to client</li>
                </ul>
            </div>

            <div class="code-example">
                <h3>CGI Environment Variables (RFC 3875):</h3>
                <ul style="list-style-position: inside; color: #ecf0f1;">
                    <li><code>REQUEST_METHOD</code> - HTTP method (GET, POST, etc.)</li>
                    <li><code>QUERY_STRING</code> - URL query parameters</li>
                    <li><code>CONTENT_TYPE</code> - MIME type of request body</li>
                    <li><code>CONTENT_LENGTH</code> - Size of request body</li>
                    <li><code>SCRIPT_NAME</code> - Path to CGI script</li>
                    <li><code>SERVER_NAME</code> - Server hostname</li>
                    <li><code>SERVER_PORT</code> - Server port number</li>
                </ul>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2026 Webserv Project</p>
    </footer>
</body>
</html>